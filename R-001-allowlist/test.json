{
  "test_id": "R-001-allowlist",
  "protocol_version": "1.1",
  "category": "resolver",
  "description": "Tests that the parser correctly captures and normalizes allowed resolvers.",
  "spec_ref": [
    "ยง4.2 Allowed Resolvers",
    "ยง3.1 Workflow Parsing",
    "ยง2.3 Symbol Normalization"
  ],
  "fixtures": {
    "inputs": [
      {
        "workflow": "R-001-allowlist/workflow.ol",
        "values": {}
      }
    ]
  },
  "assertions": [
    {
      "id": "allowed_resolvers_listed",
      "type": "allowed_resolvers_listed",
      "expected": ["SimpleResolver", "AdvancedResolver"],
      "severity": "fatal",
      "description": "Parser must capture all allowed resolvers"
    },
    {
      "id": "resolver_names_normalized",
      "type": "resolver_names_normalized",
      "severity": "fatal",
      "description": "All resolver names must conform to symbol normalization rules (start with letter, alphanumeric only)"
    },
    {
      "id": "workflow_name_present",
      "type": "workflow_name_present",
      "expected": "TestResolverAllowlist",
      "severity": "fatal",
      "description": "Workflow name must be parsed correctly"
    },
    {
      "id": "workflow_return_values_empty",
      "type": "workflow_return_values_empty",
      "expected": [],
      "severity": "fatal",
      "description": "Return values must be empty as per workflow"
    },
    {
      "id": "no_parse_warnings",
      "type": "no_parse_warnings",
      "expected": 0,
      "severity": "warning",
      "description": "No warnings should be issued for valid syntax"
    }
  ]
}